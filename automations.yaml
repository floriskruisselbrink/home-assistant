# Helaas werkt deze niet goed:
#- alias: 'Start HomeKit'
#  trigger:
#    - platform: event
#      event_type: zwave.network_ready
#    - platform: event
#      event_type: zwave.network_complete
#  action:
#    - service: homekit.start

- alias: 'Start HomeKit'
  trigger:
    - platform: event
      event_type: zwave.network_ready
    - platform: event
      event_type: zwave.network_complete
#    - platform: homeassistant
#      event: start
  action:
#    - delay: 00:05 # Waits 5 minutes
    - service: homekit.start
    - service: notify.ios_iphone_van_floris
      data:
        message: "HomeKit started"

- alias: 'Update Available Notifications'
  trigger:
    platform: state
    entity_id: updater.updater
  action:
    service: notify.ios_iphone_van_floris
    data:
      message: 'Update for Home Assistant is available.'

- id: mini_1_pressed
  alias: 'Minimote Button 1 Pressed'
  trigger:
    - platform: event
      event_type: zwave.scene_activated
      event_data:
        entity_id: zwave.minimote
        scene_id: 1
  action:
    - service: homeassistant.turn_on
      entity_id: light.woonkamer

#- id: mini_1_held
#  alias: 'Minimote Button 1 Held'
#  trigger:
#    - platform: event
#      event_type: zwave.scene_activated
#      event_data:
#        entity_id: zwave.minimote
#        scene_id: 2
#  action:
#    - service: homeassistant.turn_off
#      entity_id: switch.woonkamer_staandelamp

- id: mini_2_pressed
  alias: 'Minimote Button 2 Pressed'
  trigger:
    - platform: event
      event_type: zwave.scene_activated
      event_data:
        entity_id: zwave.minimote
        scene_id: 3
  action:
    - service: homeassistant.turn_off
      entity_id: light.woonkamer

#- id: mini_2_held
#  alias: 'Minimote Button 2 Held'
#  trigger:
#    - platform: event
#      event_type: zwave.scene_activated
#      event_data:
#        entity_id: zwave.minimote
#        scene_id: 4
#  action:
#    - service: homeassistant.turn_off
#      entity_id: switch.woonkamer_tv_backlight

- id: mini_3_pressed
  alias: 'Minimote Button 3 Pressed'
  trigger:
    - platform: event
      event_type: zwave.scene_activated
      event_data:
        entity_id: zwave.minimote
        scene_id: 5
  action:
    - service: homeassistant.turn_on
      entity_id: light.keuken

#- id: mini_3_held
#  alias: 'Minimote Button 3 Held'
#  trigger:
#    - platform: event
#      event_type: zwave.scene_activated
#      event_data:
#        entity_id: zwave.minimote
#        scene_id: 6
#  action:
#    - service: homeassistant.turn_off
#      entity_id: group.keuken

- id: mini_4_pressed
  alias: 'Minimote Button 4 Pressed'
  trigger:
    - platform: event
      event_type: zwave.scene_activated
      event_data:
        entity_id: zwave.minimote
        scene_id: 7
  action:
    - service: homeassistant.turn_off
      entity_id: light.keuken

#- id: mini_4_held
#  alias: 'Minimote Button 4 Held'
#  trigger:
#    - platform: event
#      event_type: zwave.scene_activated
#      event_data:
#        entity_id: zwave.minimote
#        scene_id: 8
#  action:
#    - service: notify.ios_iphone_van_floris
#      data:
#        message: "Button 4 Held"

##############
# Wasmachine #
##############
- alias: Wasmachine aanzetten
  trigger:
    - platform: numeric_state
      entity_id: sensor.wasmachine_power
      above: 1
  condition: 
    - condition: state
      entity_id: input_select.wasmachine_status
      state: Uit
  action:
    - service: input_select.select_option
      data:
        entity_id: input_select.wasmachine_status
        option: Aan

- alias: Wasmachine bezig
  trigger:
    - platform: numeric_state
      entity_id: sensor.wasmachine_power
      above: 3
  action:
    - service: input_select.select_option
      data:
        entity_id: input_select.wasmachine_status
        option: Bezig

- alias: Wasmachine klaar
  trigger:
    - platform: numeric_state
      entity_id: sensor.wasmachine_power
      below: 3
      for:
        minutes: 5
  condition:
    - condition: state
      entity_id: input_select.wasmachine_status
      state: Bezig
  action:
    - service: input_select.select_option
      data: 
        entity_id: input_select.wasmachine_status
        option: Klaar
    - service: notify.ios_iphone_van_floris
      data:
        message: "Wasmachine is klaar"

